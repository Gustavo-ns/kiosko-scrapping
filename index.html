<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Portadas de Periódicos</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="controls">
    <select id="countrySelect">
      <option value="">-- Todos los países --</option>
      <option value="argentina">Argentina</option>
      <option value="bolivia">Bolivia</option>
      <option value="brasil">Brasil</option>
      <option value="chile">Chile</option>
      <option value="colombia">Colombia</option>
      <option value="ecuador">Ecuador</option>
      <option value="estados-unidos">Estados Unidos</option>
      <option value="mexico">México</option>
      <option value="panama">Panamá</option>
      <option value="paraguay">Paraguay</option>
      <option value="peru">Perú</option>
      <option value="republica-dominicana">República Dominicana</option>
      <option value="uruguay">Uruguay</option>
      <option value="venezuela">Venezuela</option>
    </select>
    <button id="loadBtn">Cargar Portadas</button>
  </div>
  <div id="gallery" class="gallery"></div>

  <script>
    document.getElementById('loadBtn').addEventListener('click', () => {
      const country = document.getElementById('countrySelect').value;
      const url = country ? `api.php?country=${country}` : 'api.php';
      fetch(url)
        .then(res => res.json())
        .then(data => {
          const g = document.getElementById('gallery');
          g.innerHTML = '';
          data.forEach(item => {
            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
              <a href="${item.original_link||'#'}" target="_blank">
                <img src="${item.image_url}" alt="${item.title}">
              </a>
              <div class="info">
                <h3>${item.title}</h3>
                <small>${item.country} — ${item.source}</small>
              </div>
            `;
            g.appendChild(card);
          });
        });
    });
  </script>
</body>
</html>
